
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Fitness Hub</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <!-- Main Navigation -->
        <header class="app-header">
            <h1 class="app-title">üèãÔ∏è Fitness Hub</h1>
            <button id="settings-btn" class="icon-btn">‚öôÔ∏è</button>
        </header>

        <!-- Module Cards -->
        <div id="main-screen" class="screen active">
            <div class="modules-grid">
                <div class="module-card" data-module="workout">
                    <div class="module-icon">üí™</div>
                    <h3 class="module-title">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h3>
                    <p class="module-desc">–°–æ–∑–¥–∞–≤–∞–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å–≤–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p>
                    <div class="module-stats">
                        <span id="draft-indicator" class="draft-badge" style="display: none;">–ï—Å—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫</span>
                    </div>
                </div>

                <div class="module-card" data-module="history">
                    <div class="module-icon">üìÖ</div>
                    <h3 class="module-title">–ò—Å—Ç–æ—Ä–∏—è</h3>
                    <p class="module-desc">–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π –ø—Ä–æ—à–ª—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p>
                    <div class="module-stats">
                        <span id="total-workouts">0 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</span>
                    </div>
                </div>

                <div class="module-card" data-module="stats">
                    <div class="module-icon">üìä</div>
                    <h3 class="module-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <p class="module-desc">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                    <div class="module-stats">
                        <span id="total-tonnage">0 –∫–≥</span>
                    </div>
                </div>

                <div class="module-card alpha" data-module="alpha">
                    <div class="module-icon">üöÄ</div>
                    <h3 class="module-title">Alpha</h3>
                    <p class="module-desc">–¢–µ—Å—Ç–∏—Ä—É–π –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</p>
                    <div class="module-stats">
                        <span class="alpha-label">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Workout Module -->
        <div id="workout-screen" class="screen">
            <div class="screen-header">
                <button class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
                <h2 class="screen-title">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h2>
                <button id="workout-menu-btn" class="icon-btn">‚ãÆ</button>
            </div>

            <div class="workout-content">
                <!-- Date Selector -->
                <div class="date-selector">
                    <button id="date-prev" class="date-nav-btn">‚Äπ</button>
                    <div class="date-display">
                        <span id="workout-date">–°–µ–≥–æ–¥–Ω—è</span>
                        <small id="workout-date-full"></small>
                    </div>
                    <button id="date-next" class="date-nav-btn">‚Ä∫</button>
                </div>

                <!-- Workout Stats -->
                <div class="workout-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="workout-tonnage">0</span>
                        <span class="stat-label">–∫–≥</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="workout-reps">0</span>
                        <span class="stat-label">–ø–æ–≤—Ç–æ—Ä–æ–≤</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="workout-max-weight">0</span>
                        <span class="stat-label">–º–∞–∫—Å –≤–µ—Å</span>
                    </div>
                </div>

                <!-- Exercises List -->
                <div id="exercises-list" class="exercises-list">
                    <div class="empty-state" id="empty-workout">
                        <div class="empty-icon">üí™</div>
                        <p>–ù–∞—á–Ω–∏ —Å–≤–æ—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É!</p>
                        <p class="empty-hint">–î–æ–±–∞–≤—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –∏–ª–∏ —Å—É–ø–µ—Ä—Å–µ—Ç</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="add-exercise-btn" class="action-btn primary">
                        <span class="btn-icon">‚ûï</span>
                        –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
                    </button>
                    <button id="add-superset-btn" class="action-btn secondary">
                        <span class="btn-icon">üîó</span>
                        –°—É–ø–µ—Ä—Å–µ—Ç
                    </button>
                </div>

                <div class="workout-actions">
                    <button id="save-workout-btn" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="clear-workout-btn" class="btn btn-danger">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- History Module -->
        <div id="history-screen" class="screen">
            <div class="screen-header">
                <button class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
                <h2 class="screen-title">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h2>
            </div>

            <div class="history-content">
                <div id="history-list" class="history-list">
                    <div class="empty-state" id="empty-history">
                        <div class="empty-icon">üìÖ</div>
                        <p>–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø—É—Å—Ç–∞</p>
                        <p class="empty-hint">–°–æ–∑–¥–∞–π —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Module -->
        <div id="stats-screen" class="screen">
            <div class="screen-header">
                <button class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
                <h2 class="screen-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            </div>

            <div class="stats-content">
                <!-- Overview Stats -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-value" id="stats-total-workouts">0</div>
                        <div class="stat-label">–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-total-tonnage">0</div>
                        <div class="stat-label">–û–±—â–∏–π —Ç–æ–Ω–Ω–∞–∂ (–∫–≥)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-avg-tonnage">0</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ç–æ–Ω–Ω–∞–∂</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stats-best-day">-</div>
                        <div class="stat-label">–õ—É—á—à–∏–π –¥–µ–Ω—å</div>
                    </div>
                </div>

                <!-- Records Section -->
                <div class="stats-section">
                    <h3 class="section-title">üèÜ –†–µ–∫–æ—Ä–¥—ã</h3>
                    <div id="records-list" class="records-list">
                        <!-- Records will be populated here -->
                    </div>
                </div>

                <!-- Progress Charts -->
                <div class="stats-section">
                    <h3 class="section-title">üìà –ü—Ä–æ–≥—Ä–µ—Å—Å</h3>
                    <div class="exercise-selector">
                        <select id="exercise-select" class="form-select">
                            <option value="">–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</option>
                        </select>
                    </div>
                    <div id="progress-chart" class="chart-container">
                        <div class="empty-chart">
                            <div class="empty-icon">üìä</div>
                            <p>–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <!-- Exercise Selector Modal -->
        <div id="exercise-modal" class="modal">
            <div class="modal-header">
                <h3>–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <div class="modal-content">
                <div class="search-box">
                    <input type="text" id="exercise-search" placeholder="–ü–æ–∏—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π..." class="form-input">
                </div>
                <div id="exercise-list" class="exercise-list">
                    <!-- Exercise options will be populated here -->
                </div>
            </div>
        </div>

      <div id="workout-entry">
  <select id="exerciseSelect">
    <option value="">–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</option>
  </select>

  <select id="weightSelect">
    <option value="">–í–µ—Å</option>
  </select>

  <select id="repsSelect">
    <option value="">–ü–æ–≤—Ç–æ—Ä—ã</option>
  </select>

  <button id="addSetBtn">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ö–æ–¥</button>
  <button id="saveWorkoutBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
</div>

<div id="workoutList"></div>

    <!-- NEW: Exercise Addition Stepper Interface -->
    <div id="exercise-stepper" class="exercise-stepper">
        <!-- Handle for mobile drag indicator -->
        <div class="stepper-handle"></div>
        
        <!-- Header with progress and close button -->
        <div class="stepper-header">
            <div class="stepper-progress">
                <div class="step-indicator">
                    <div id="step-1-dot" class="step-dot active"></div>
                    <span id="step-1-label">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</span>
                </div>
            </div>
            
            <h3 id="stepper-title" class="stepper-title">–í—ã–±–µ—Ä–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h3>
            
            <div class="stepper-progress">
                <div class="step-indicator">
                    <span id="step-2-label">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</span>
                    <div id="step-2-dot" class="step-dot"></div>
                </div>
            </div>
            
            <button id="stepper-close" class="stepper-close">‚úï</button>
        </div>
        
        <!-- Dynamic content area -->
        <div id="stepper-content" class="stepper-content">
            <!-- Content will be dynamically populated here -->
        </div>
        
        <!-- Action buttons -->
        <div class="stepper-actions">
            <button id="stepper-back" class="stepper-btn secondary" style="display: none;">
                ‚Üê –ù–∞–∑–∞–¥
            </button>
            <button id="stepper-cancel" class="stepper-btn secondary">
                –û—Ç–º–µ–Ω–∞
            </button>
            <button id="stepper-next" class="stepper-btn primary" disabled>
                –î–∞–ª–µ–µ ‚Üí
            </button>
        </div>
    </div>

    <!-- Background overlay for stepper -->
    <div id="stepper-overlay" class="modal-overlay"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/components.js"></script>
    <script src="js/workout.js"></script>
    <script src="js/history.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
